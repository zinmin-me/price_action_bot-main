🤖 AI TRADING BOT FLOW - ASCII DIAGRAM
==========================================

📊 DATA COLLECTION PHASE
┌─────────────────────────────────────────────────────────────┐
│  MT5 Market Data → Historical OHLC → Multiple Symbols      │
│  EURUSD, GBPUSD, USDJPY, etc. (500-10,000 data points)    │
└─────────────────────────────────────────────────────────────┘
                                ↓
🔧 FEATURE ENGINEERING PHASE
┌─────────────────────────────────────────────────────────────┐
│  Raw OHLC Data → 94 Features → ML-Ready Data              │
│                                                             │
│  📈 Price Features (15)     📊 Technical Indicators (45)   │
│  🎯 Price Action (12)       📍 Support/Resistance (8)      │
│  📈 Trend Analysis (6)      📊 Volatility (5)              │
│  ⏰ Time Features (3)                                      │
└─────────────────────────────────────────────────────────────┘
                                ↓
🤖 MODEL TRAINING PHASE
┌─────────────────────────────────────────────────────────────┐
│  Training Data → 6 ML Models → Ensemble Model             │
│                                                             │
│  🌲 Random Forest    🚀 XGBoost        🧠 Neural Network   │
│  📈 Gradient Boost   ⚡ LightGBM       🎯 SVM              │
│                                                             │
│  ⚖️ Ensemble Voting Classifier (Soft Voting)              │
└─────────────────────────────────────────────────────────────┘
                                ↓
📊 PREDICTION PHASE
┌─────────────────────────────────────────────────────────────┐
│  New Market Data → Feature Extraction → Model Prediction   │
│                                                             │
│  Input: Latest OHLC Bar                                    │
│  Process: Generate 94 Features → Scale → Predict           │
│  Output: Buy/Sell/Hold + Confidence Score (0.0-1.0)       │
└─────────────────────────────────────────────────────────────┘
                                ↓
💰 TRADING DECISION PHASE
┌─────────────────────────────────────────────────────────────┐
│  AI Signal → Risk Management → Trade Execution             │
│                                                             │
│  ✅ Confidence > 0.7? → Position Sizing → Open Trade      │
│  ❌ Confidence < 0.7? → Skip Trade                         │
│                                                             │
│  Risk Parameters:                                          │
│  • Stop Loss: 0.5%    • Take Profit: 1.0%                 │
│  • Risk/Reward: 1:2   • Max Position Size: Based on AI    │
└─────────────────────────────────────────────────────────────┘
                                ↓
📈 POSITION MANAGEMENT PHASE
┌─────────────────────────────────────────────────────────────┐
│  Open Position → AI Monitoring → Exit Decision             │
│                                                             │
│  🔄 Continuous AI Monitoring:                              │
│  • Opposite AI Signal → Exit                              │
│  • Low Confidence (<0.3) → Exit                           │
│  • Target Reached → Exit                                  │
│  • Stop Loss Hit → Exit                                   │
│                                                             │
│  📊 Close Reasons Tracking:                                │
│  • "AI predicts bearish reversal"                         │
│  • "AI confidence too low"                                │
│  • "Target reached"                                       │
└─────────────────────────────────────────────────────────────┘
                                ↓
🧠 LEARNING & ADAPTATION PHASE
┌─────────────────────────────────────────────────────────────┐
│  Trade Results → Model Retraining → Performance Improvement │
│                                                             │
│  🔄 Auto-Training Triggers:                                │
│  • Every 24 hours                                          │
│  • After 50 trades                                         │
│  • When accuracy < 60%                                     │
│  • Manual: /ai_train command                               │
│                                                             │
│  📈 Learning Process:                                      │
│  • Collect new data + trade outcomes                       │
│  • Update features and patterns                            │
│  • Retrain all 6 models                                    │
│  • Validate performance                                    │
│  • Deploy updated models                                   │
└─────────────────────────────────────────────────────────────┘

🎮 TELEGRAM BOT COMMANDS
┌─────────────────────────────────────────────────────────────┐
│  /ai_status      → Show AI system status                   │
│  /ai_train 2000  → Train AI with 2000 data points          │
│  /ai_performance → Show model performance metrics          │
│  /close_reasons  → Show position close reasons             │
└─────────────────────────────────────────────────────────────┘

📊 REAL-TIME EXAMPLE FLOW
┌─────────────────────────────────────────────────────────────┐
│  1. 📊 EURUSD: 1.1050 (New OHLC bar)                      │
│  2. 🔧 Generate 94 features from price data                │
│  3. 🤖 AI Prediction: BUY (85% confidence)                 │
│  4. ✅ Confidence > 0.7 → Open BUY position                │
│  5. 📈 Price: 1.1050 → 1.1060 → 1.1070                    │
│  6. 🤖 AI: Still BUY (78% confidence)                      │
│  7. 📈 Price: 1.1070 → 1.1080 (Target reached)            │
│  8. 💰 Close position: +1.0% profit                        │
│  9. 📊 Record: "Target reached" for learning               │
└─────────────────────────────────────────────────────────────┘

⚡ PERFORMANCE EXPECTATIONS
┌─────────────────────────────────────────────────────────────┐
│  Training Time: 2-5 minutes (initial)                     │
│  Prediction Time: <1 second                                │
│  Overall Accuracy: 60-75%                                  │
│  High Confidence Trades: 70-85%                            │
│  Win Rate: 55-70%                                          │
│  Risk/Reward Ratio: 1:2 average                            │
└─────────────────────────────────────────────────────────────┘

🔄 CONTINUOUS IMPROVEMENT CYCLE
┌─────────────────────────────────────────────────────────────┐
│  Market Data → AI Analysis → Trade Execution → Results     │
│       ↑                                              ↓     │
│  Model Updates ← Performance Analysis ← Trade Outcomes     │
└─────────────────────────────────────────────────────────────┘

This AI system creates a complete feedback loop where:
• Market data feeds the AI models
• AI makes trading decisions
• Trade results improve the models
• Better models make better decisions
• Continuous learning and adaptation
